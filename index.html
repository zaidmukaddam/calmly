<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="A simple relaxation app">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="./manifest.webmanifest">
    <link rel="icon" href="./favicon.ico">
    <link rel="stylesheet" href="normalize.css">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Calmly</title>
</head>

<body>
    <header class="header">
        <div class="header__logo-box">
            <a href="./" class="header__logo-link">
                <img src="img/calmly.png" class="calmly-logo" alt="calmly">
                <span>Calmly</span>
            </a>
        </div>
        <div class="header__text-box">
            <h1 class="heading-primary">
                <span class="heading-primary--main">Breathe. Listen. Relax.</span>
                <span class="heading-primary--sub">A Simple Relaxation App.</span>
            </h1>
            <div class="btn-container">
                <a href="./settings.html" class="btn" aria-label="start">START</a>
            </div>
            <p class="maker">
                Calmly - Created By <a class="maker-link" href="https://instagram.com/zaidmukaddam.c"
                    rel="noopener noreferrer" target="_blank">Zaid</a>âš¡
            </p>
        </div>
        <div class="snackbar-update">
            <span class="snackbar-update__msg">New version available &#128640;</span>
            <span class="snackbar-update__btn">UPDATE</span>
        </div>
    </header>
    <!-- <script defer="defer" src="https://static.cloudflareinsights.com/beacon.min.js"
        data-cf-beacon='{"token": "8538ec4ecd174957bfe0639d8b071c1a"}'></script> -->
    <script type="module">
        const updateSnackbar = document.querySelector(".snackbar-update");
        const updateBtn = document.querySelector(".snackbar-update__btn");

        import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/4.0.0/workbox-window.prod.mjs";
        if ("serviceWorker" in navigator) {
            const wb = new Workbox("./service-worker.js");

            wb.addEventListener("installed", (event) => {
                console.log("Installed");
                if (event.isUpdate) {
                    updateSnackbar.classList.add("show");
                }
            });
            wb.register();
        }

        updateBtn.addEventListener("click", () => {
            window.location.reload();
        });
    </script>
</body>

</html>